<!DOCTYPE html>  
<html>  
<head lang="en">  
    <meta charset="UTF-8">  
    <title>Char Picture</title>  
    <style>  
        #show{  
            font-family: Courier New;  
            font-size: 10px;  
            line-height: 8px;  
        } 
         
    </style>  
    <script src="2.js"></script>  
</head>  
<body>  
<input type="file" id="file"><button type="button" onclick="showImage()">Tạo</button><br>  
<img src="" style="width: 100px"/>  
<pre id="show">
i............iiiiiiiiiiiiiiii....... ....    ..iii.........iiiii..      ..iiiiiiiiiii...       twwwwrni............ii.iiiiiiiiiiiijiii..............iii.........iiiii.....   .iiiiiiiiiiiiiii...     kwwwwrnii..........ijjjjii.iiiiiiiiiiii..............ii.......i.iiiii.....  .iiiiiiiiiiiiiiiiiii.... .wwwwwrniii........jjiiiiiijii..iiiiiiii.............i..........iiii......  .iiiiiiiii................twwww$rniijiiiiiijjiiiiiiiiiiiiiii..iii..............i.........iiii.....   .iii...i.......jjjtttdk$#wwwww#t rniiiiijjjiiiiiiiiiiiiiiiiiiiiiii.......................iii....... itttddkk$$#wwwwwwwww#$$#wwwwwwwt.  rniiiiijdtiiiiiiiiiiiiii.iiiiiiiii....................ttii........j#wwww@www##wwwwwwwww$$$$#wwww$i    rn.i...idk.....................iii...................kki.........$wwwwwwwww####wwwwwwww$$$$####t      rn......jjjjjjtdddddkkdtjtdji..iii.................i$ji........t#wwwwwwwwww#$$#wwwwwwww$kk$##k.       rnkk$$$kddk##kkw@w#$$$kttttti. iiiii..............iki.........d$#$k#w#$#www#$$$#wwwwwww$kdddt         rn$$$#$$$kkkdjt$w$kk$$kddddti..iiiiii............jji........jtjtkjjt$kdd$ww#$$$#wwwwww#$tjj.          rn$$$##$$kdktjjddjjtkkkkdddtjiiiiiiii...........ii.........dkjijdi.idddtd$#$$$$#wwwwww#dji            rn$$$$##$$kdtjtdtiijttdttjiiiitiiiiii..........ii........t$kktjtkj.idkkdtk$$kk$#wwwwww#d.             rn$$$$$$$$kkktdkdjijtttdtjiddttiiiiii...................$w#$$kdk#tiik$$ddkkdkk$###wwww$.              rn$$dtdk$k$$#ddkkttjttdww#$$$ktiiiii..................jk$##$#$$##djjk$kk$#w#dk$$#####k.               rniiiiiiijitkkdk$ddddt$$##$#$kjiiii.................ik#kk$$$kd$$$dtd$kkwwwwwkdkk####t                 rniiiiiijiijiit$#ttd$k#$##ww#$kiii......ii.........t#w#$kkkkttdkkdtddk#@@w##$td$##$i      ....        rn.i...ij..j..jkwdtd$www##w$kddji.................kwwww#$#$ktttkkddd$#@@@w#w$dk$#d.     ..........    rniiiiiijiij..it$$k$k##$dkkttjji................d#wwwwwwww#$kddkkkkk#@@@@w$#ktdk.     .iii............rniiiijjiiij.iijid$w$w#djjjjjjji...............ik$$$#w##ww###kk$$$w@@@@@@@@#kdt.     .iiii............rniiiiitii.i.ii.jk##k$#ktttjjjii...............idkdd$w#www###$$##w@@@@@@@@@@$tt.    .iiiiiiiiiiiii....rniiiijji..j..i.td$w$#$tttjjiiiii...i..........td$kd$wwwwww######@@@@@@@@@@@#tt.    .iiiiiiiiiiiiiiiiirn.iiijii..i...jddd#$w$jjjjdjijdi.iii..........k$#$$#wwwww#$$$#$w@#$k$w@@@@@wtj     .i...iiiiiiiiiiiiirn.iiiiii..j...k#k$djdkjjtktdjttijjii..........ddd$$#wwww##$kk$$@$kkddd$ww@@wdj     iii..iiiiiiiiiiiiirn.iijiii..i..ik$w$kjtjjjjttttjtijiii..........    i$wwww#$$kdkkwkdddttdkwww@$j    .iji...iiiiiiiiiiiirniiijiiiiiii.ik#w##ttjjjjjjjjjiiiiii..........     .$@@@w##$$$k#ddttttjt$ww@#j   ..jji...iiiiiiiiii..rniijiiiiiijiijk#w##$jjjjiiijjjjiiiii..........  ..  .w@@wwww#$$$$ktkktjjk@@@ki   ..jji....iiiiiiiiii.rniijiiiiiijiidw@@w$ktjjjiijttjjiiiii..........  ..   j###www#$$$##tk$dtjt$$$di   ..iii.i...iiiiiiiiiirniiiiiiiiijii$@@ww#ktjjiiittijjiiiii..........  .  .jttk$####dtkkkttdtjjjttddj   ..iiiii......i.iiiiirnijiiiiiiiiii#@@ww#ktttjiijjjjiiiiii.........ii   .tt$wwwwwww#kitdjttjjijjdddt.    .ii.i............irnitjiiiiiiiii#@@ww#ddttttjjjjjiiiiii.i.......j@wkjtdttttwwww##dditttdjjjjtt$ddt    iii...............rnjjijiiiiiiii$w@ww$tkkdtddtjjjiiiiiiijiii....j@@wkttd$#wwwwwww#ktjjttdjjjd$dtdk.   iii...............rntijjiiiiiijik#@wwtdkkktttj$#jiiiiiiijjjji...jww$jtddtdjwwwwww$jtttjtdjjtkkttdd   .iii.....i.........rnjjiiiiiiijdtk#@wkddtdkktjtw$jiiiiiitttjij...j$ktjdttkwwwwww##tdjdjjijjjjkkttdk.  .iii ..............rnjjjjjjjjijdt$@@$tttdk$kkttw#tiiiiijdtjjti...idtjjtttttt#$$dtjidjtttijttjkkttdk.  .ii. ..  ..........rniijjjjjtjtjd$dtttttttkdkdt##diiiiitdtjjiji..jdtjtdtiki$$$$$$kkdjjjjijtttkktddd.  .ii. .. ...........rnddttttjtdddjjtttttttdddddt$kjiiiiiddttjjii..ittjtttdd.k$k$#####$tjjiitdttktddd.  .i.  .. . .........rnddddtjjjjtdjtttjjjjjtjtdddt.iijkdjdttjjjji..idtjdtjdjk$$kk$$#####djiijtttdttdt.  .i.  .. ...   .....rntjjjttddddkkkdk$$$dkkdddddtjttkdtddtjjjji...idtddtjj$w#$$k$$$####$dtiijtdkkdti ......... .. ..     .rnijtdddkddddkdd$kdtjkdddddddtddtdtddtjjiii...jkdkdjj$www##$$$k$$###kdjijtd$kk$$kkti..........ii.i.iijrnii.iiijjjtkdddddttdddddddddttiiitkttjjtdjii.ik$kdjj#$www$$$$$#####kdtjjjd#$$###$kdj.........ttttttttrnii.......jjjdtiiijjdddddddddjttjdddtjtdjjiii...itjt$$$#$$$$$####$$kdkjjjt$$###$$kdt.........ttttttttrnjii......... .....tdddddddddjittkdttjd$ktktj...itjdwkd$$k$$$###$kkkkktjjjtk##$$kkdti .......ttttttjtrnjiiii.......... .ddddttdddddd.k#kddtj$dddkdj..iitt#$k$$$k$$$$$#k$kkkkdtjjtt$$#$kkdti........ttttttttrnjjiii......  .idjtdtdttttddddj.k$ddtjtkktidi...itd$kkkkkk$#$$##$$kkkkkdtjjtt$#$$kdt.  ...  .ttttttttrnjjiii..iiitttdkdjjdttttttdddddii$ddttj$kdtt....jtdkkdkkkk$####$$kkkkkkkttjjtt$$$ktt        .tdddddddrnjjiiiiiijjdtttkdtiddddttttddddji$kdtttdjdki....ttdddddddk$ww##$$kkkkkkkdttjjttkkdtj .......jjjjjtttdrniiiiiiijjttjjjkdd.ddddtttddddddk$kdtkkttjki....kdkdddddkk#wwww$$kkkkkk$$dtttttdddti  .....iddttdddddrntjjtttijjttjjjkddjtddddttttttdk#$kdj#kjttdj....kdkddddkk$#www##$kkk$$$$$$dtttttddti........dttddddddrniiiiijiittjjttddti.tttdttttttd$$kdtjww$kddji..i$kkkdkkkk###w@##$kkk$$$$$w$dttjttdt.........dddttttttrn .......tjjjtdjijkjjjtdttttttd$kdttjtttttjii..jkkkddk$$####ww##$kkk#$$$#ww$ddttttj ...... .tddtdddddrn ......itjjttdtddddijjjjtttttdkddtti    .......        ....ik##$$kk#$$$wwwwkddttt.  ..... .dkkkkkkkkrnjttjjjjjjjjttdjdddddtiijttttttdkttt.    ......              t#$$k$$#$k#wwww#$ddd..........itttttddddrndddddkktjjjtdddddtdddttjtttttttdttjjiiii..........          t$$kk$#$kkwwwww##ktd..........itttjtttttrndddddddtjjttddkkdtddddttddtttttttttdddddj.....d$k$kdddddtk$##$kdk$#kd#www#####tt..........ijjjtttjjjrndddddddjjttddddddddddddddddttttttjtdddddj.....kwww###$$##wwwwkdtd$#kkww#######dt..........ittttttttjrndddddddjjttdddddddddddddddkdtttjjjddddddt.....kwwww#$#$$$wwww$dtd##k#ww######$dj..........ittttjtjjjrndddddddtjtdkkddddddddddddddddtttttddddddj.....kww#w#$$$$$wwwwwdtd##kwww######$di..........jtttttttttrndddddddtjtddkdddddddkdddkkkkkddttdddddddj.....kww####$$$w@@www#dk##$www#######k...........jtttttttttrndkkkkkkdtjtddkdddkddkdddkkk$kkddddddddddt.....$ww####$$#w@@wwww##$#wwwwwwwww##d.....iiiiiijjjjjtttttrndkkkkkkktttddkkkkkkdkkdddkkkkkkddkkdddddt.....kkww####$$w@@@wwwww####wwwww#kddk............jjjjjjjtjrndddddddddtjtddkddkkkkkkkdkkkkkkkdddkdkkkt.....$td#w$$$$###@@www#$k$$kdkdddddkdd............jjtjjttttrnddddddddddtttdkddkkkkkkkkkkkkkkddddddddkt.....#$tt$#$$###$w@w###$k$$kddttttttdd............jjtjjtjttrnddddddddddttttkkdkkkkkkddddddkdddddddddkt.....dttjtd$#####t@@##$$k$$kdtttttdddd............tjttjttttrndddddddddddtttd$kkkkkkkddddddddddtdddddkj.... ktidttjjiid$.#@###$$kkkdddddddddk. ..........tttttttttrnddddddddddddtttkkkkkkkdddddddddddtdddddkj...  ktdtttjj. ttitkt##$$$kkdddddddddkj  .........dddddddddrndddddddkkkkdtttdkkkkkddddddddddddtdddddkj...  kk#$dtjjjtijtttt##$$$kkddddddddddd.....iiiiijijtttttttrnkkkkkkkkkkkkkttkkkkkdddddddddddddtdddddkj..   #@wkjjjjjd.ijjtt###$$$kdddkkddddddi...........jttjtjttrniiiiiiijjjjjjjtkkdddddddtttddddddtdkkkk$i..   @$k$#$tjdj.jjjjt###$$$$kddkkddttddt     ......jjttjtttrn..............tddddddddddttddddddttddddki.    @@@w@@wjwktjjjjt###$k#$kddkkddtttddi   .......ttttttttrn..............dddddddddddddddddddttddddki...  @@wwww#dkw#tjjjt###$k#$kddkkddtttddt.. .......ttttttttrn.............tddddddddddddtttttttttddddki...  @wwwwwww#$#k..it###$k#$kddkkkddddddk. ........ttttttttrn.............dddddddttttttttttttttttdddki...  @@@wwwww###wi  j###$$$$kkkkkkkdddddki  .......ttttttttrn............jdttddttttttttttttttttdtdddki...  @@@wwwwwww#$t  t####$$$kkkkkkkkdddkkt........ittdddkkdrn............dttttdtttttttttttttttttddddki.... @@@wwwwwww#$j  j####$$$$kkkkkkkkkkkkk.........tdddddddrn...........jdttttdtttttttttttjtttttdtdk$i.....w@@wwwww#kti...i#######$$kkkkkk$kkkkkt........tdkkkdddrn...........jttttddttttttttttjjjttttdddd$i.....@@www#$$ti.....i#######$$kkkkk$$kkkkkk........tdddddddrn...........tttttddttttttttttttjttttttddki....i@@w#$dji.......iw######$$$kkk$kkkkkkkkt ......tdddddddrn...........dttttdkttttttttttttttttttttdk.....i#$$ktji.........#######$$$kkkkkkkkkkkkk.   ...tdddddddrn...........ddtttdkdttttttttttttttttttttd.....i$tjiiii....i....#$$$###$$kkdk$$kkkkkkkkj  ....tdkkkkkdrn...........tddtttdkddttttttttttttttttttdi....ijiiiiii...ii..  ##$$$$kkkddk$$$kkkddkkkd......ijtttttjrn...........tddtttdkdddttdtttttttttttttttj.....iiiiiii.iiii.   $##$$$kkddd$$$$kkddddkkd......ijjjjjjjrn...........idddddddkkdddddtddtttttttttttd.....iiiiiiiiiiii..  k##$$$$kkdk#$$$kdddddkkd......itttttttrn............dddddddk$$kddddddddtttttddtttj....jjiiiiiiiii.i.  t##$$$$##$$#$$$kdddddkkt......ijtdttttrn............jdddkkkkkk$$kdddddddtttddddttt....iiiiiiiiiiii... i##$$$$$#ww#$$kkdddddkkj......itttttttrn............ikkkkddddkk$wkkddddddddddddttti...iiiiiiiiii..... .##$$$$$#@@#$$kkkdddkkk.......idttttttrn.............dkddddddddk##kkddddddddddddttt...iiiiiiiiii.....  ##$$$$$$w@#$$kkkdddkkk.......itddttttrn.............tkdddttttdk$wkkkddddddddddddtd...iiiiiiiiii.....  $#$$$$$$#w##$kkkdddkk$.......idddddk$rn.............jkkddtttttdk##kkkddkkdddddddtti..iiiiiiiii........k##$$$$$#ww#$$kkkdkkkk.......iddtddd#rn.............idkddtttttdk#wkkkkkkddddddddddj..jiiiiiiii........dw#$$$$$#ww#$$kkkkkk$k.......iddtdk##rn..............dkddttttttd$wjkkkkkkkkdddddddt..ijjjjiiii........jw#$$$$$#ww#$$kkkkkk$k..  ...itddddk$rn..............tkddttttttdk#i.k$kkkkkdddddddd.ijjjjjiii..........ww#$$$$#ww##$$kkkkk$k    . .iddtdkkkrn..............jkddttttttdk#i..k$kkkkkdddddddiijjjjjjiii.........kw##$$$#www#$$kkkkk$k       idddddddrn..............ikdddtttttdk#i...d$$kkkdddddddtitjjjjjiii.........jw##$$$##ww#$$kkkkk$$.iiijjjtttttjjtrn...............kdddtttttdk$i...jk$$kkkdddddddijjjjjjjii....iiii..ww##$##www##$kkkk$$$ttdtttttttjjiiirn...............kdddtttttdk$i...jk$$$kkkkddddkittttjjjji........  $w#####www##$$kkk$$$dddddkddtttddddrn...............ddddttttttk$....jkk#$$$kkkdddktttttjjjji........  jww#####w@w#$$kk$$$$tttttkttdttttttrn...............tkddtttttdk$....tkk$#$$kkddddddttttjjjji........   ww#####w@w##$$k$k$$jtttttddddtttjjrn....…

</pre>  
<script>  
    var map=getCharsMap(),show=document.getElementById("show"),  
            img=document.getElementsByTagName("img")[0],  
            canvas = document.createElement("canvas");  
    function showImage(){  
        var file = document.getElementById('file').files[0],  
                ctx = canvas.getContext('2d'),  
                url = URL.createObjectURL(file);  
        if(!file){  
            alert("Vui lòng chọn tệp tin");  
        }  
        img.src = url;  
        img.onload=function(){  
            canvas.width=img.naturalWidth;  
            canvas.height=img.naturalHeight;  
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);  
            show.innerText=toChars(ctx,canvas.width,canvas.height,100);  
        }  
    }  
</script>  
</body>  
</html>