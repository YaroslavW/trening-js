# Как использовать Async / Await в JavaScript? #

Асинхронный код, часто трудно представить нашему разуму.  Новое дополнение к ES8, которое существует уже некоторое время, - это функции `async / await`. До внедрения `async / await` мы использовали обратные вызовы и обещания.<br/>

Если вы новичок в JavaScript, вы можете узнать, что такое обещания, и сразу перейти к async / await. Если вы все еще используете обещания, настало время изучить async / await.<br/>

## Недостаток старых методов ##
Чтобы понять, почему функции async / await предпочтительнее, чем `Promises`, нам нужно понять, какие проблемы возникают с использованием `Promises`.<br/>

### Callback Hell ###
Представьте, что в вашем коде много обратных вызовов, вложенных в серию вызовов функций. Весьма часто можно увидеть код с множеством вложенных обратных вызовов, который называется адом обратного вызова - `Callback Hell`. Вам становится трудно читать, поддерживать и тестировать код на этом этапе. На мой взгляд, код, который нелегко читать, не является хорошим кодом. Это то, с чем может помочь `async / await`.<br/>

### Обработка ошибок ###
И обратные вызовы, и обещания не предлагают чистого способа обработки ошибок. Вам будет трудно узнать, какой из  Promise выдает ошибку, если вы находитесь в куче вложенных обещаний. Async / await подсветит это и в обработке ошибок.<br/>

## Почему были введены функции async / await? ##
Чтобы смягчить некоторые болевые точки, возникающие при написании асинхронного кода с использованием `Promises` или обратных вызовов, был введен `async / await`. Они позволяют писать асинхронный код синхронно. Это позволяет вам писать асинхронный код, который позволит избежать какого-либо обратного вызова, а также гарантирует, что код является чистым и поддерживаемым. Следовательно, введение `async / await`, которое легче читать и поддерживать.<br/>

### `Async` - Асинхронный ###
Функции с ключевым словом **«async»** указывают, что функция всегда возвращает `Promise`. Если функция выдает ошибку, то Обещание (`Promise`) будет отклонено. Если функция возвращает значение, обещание (`Promise`) будет выполнено. Достаточно просто!<br/>

```javascript
  async function add(a,b) {
  return a+b;
  }
```
### `Await` - Ожидание ###
`Await` - ключевое слово работает только в  _асинхронных_  функциях. `await`  заставляет JavaScript ждать, пока обещание не будет выполнено.<br/>
>Имейте в виду, что вы не можете использовать  **await**  в обычных функциях. Работает **только внутри  асинхронных  функций**.<br/>
>
Давайте посмотрим на некоторые фрагменты кода. Мы можем использовать несколько  операторов `await`.<br/>

```javascript
  async function ToDoOne() { ... }
  async function ToDoTwo(value) { ... }
  async function ToDoThree(value) { ... }
  async function ToDos() {
    let resultOne = await ToDoOne();
    let resultTwo = await ToDoTwo(resultOne);
    let finalResult = await ToDoThree(resultTwo);
    return finalResult;
  }
  // Call ToDos()
  ToDos();
```
Мы можем использовать несколько  операторов ожидания - `await` . _ToDoThree ()_ будет ожидать завершения  _ToDoTwo ()_. И _ToDoTwo ()_  будет ожидать завершения  _ToDoOne ()_. <br/>

Если вы наблюдаете фрагмент кода выше, он выглядит очень близко к синхронному коду. Это главное преимущество использования функций `async / await`. Они делают асинхронный код похожим на синхронный код, что облегчает его чтение и обслуживание. В  `Await`  ключевых слов гарантирует , что JavaScript ждет , пока каждая  _асинхронная_  функция возвращает результат.<br/>

### `async/await` c `Promise.all` ###
